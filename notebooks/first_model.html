<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../" lang="en" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>A first model | IESopt 2.12.2.dev0 documentation</title>
<meta content="A first model | IESopt 2.12.2.dev0 documentation" property="og:title"/>
<meta content="A first model | IESopt 2.12.2.dev0 documentation" name="twitter:title"/>
<link href="../_static/pygments.css?v=2c5fd357" rel="stylesheet" type="text/css"/>
<link href="../_static/theme.css?v=42baaae4" rel="stylesheet" type="text/css"/>
<link href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" rel="stylesheet" type="text/css"/>
<link href="../_static/togglebutton.css?v=13237357" rel="stylesheet" type="text/css"/>
<link href="../_static/custom.css?v=89055611" rel="stylesheet" type="text/css"/>
<link href="../_static/favicon.ico" rel="icon"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../tocs/tutorials_extracting_results.html" rel="next" title="Extracting results"/>
<link href="../getting_started.html" rel="prev" title="Installation"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" @scroll.window="showScrollTop = pageYOffset &gt; 100" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false, showScrollTop: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a><header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../index.html"><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">IESopt 2.12.2.dev0 documentation</span>
</a><nav class="flex items-center space-x-6 text-sm font-medium">
<a class="transition-colors hover:text-foreground/80 text-foreground/60" href="../index.html">Home</a>
<a class="transition-colors hover:text-foreground/80 text-foreground/60" href="https://github.com/ait-energy/iesopt" rel="noopener nofollow">GitHub</a>
<a class="transition-colors hover:text-foreground/80 text-foreground/60" href="https://github.com/ait-energy/IESopt.jl" rel="noopener nofollow">IESopt.jl</a>
</nav></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../index.html"><span class="font-bold text-clip whitespace-nowrap">IESopt 2.12.2.dev0 documentation</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="flex md:hidden flex-col font-medium mt-4">
<a href="../index.html">Home</a>
<a href="https://github.com/ait-energy/iesopt" rel="nofollow noopener">GitHub</a>
<a href="https://github.com/ait-energy/IESopt.jl" rel="nofollow noopener">IESopt.jl</a>
</nav><nav class="table w-full min-w-full my-6 lg:my-8">
<p class="caption" role="heading"><span class="caption-text">IESopt</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">A first model</a></li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../tocs/tutorials_extracting_results.html">Extracting results<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="custom_results_1.html">Part I</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_results_2.html">Part II</a></li>
</ul>
</li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../tocs/tutorials_templates.html">Templates<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../pages/tutorials/templates_1.html">Part I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/tutorials/templates_2.html">Part II</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/tutorials/templates/getter_setter.html">Getter and setter functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pages/tutorials/addons.html">Addons</a></li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../tocs/examples.html">Examples<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="example_52.html">52</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_53.html">53</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_54.html">54</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_55.html">55</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/user_guides/index.html">Intro</a></li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../pages/user_guides/toc_general.html">General<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/best_practice.html">Best practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/global_parameters.html">Global parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/kwargs_config.html">Python: Modify <code class="docutils literal notranslate"><span class="pre">config</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/monte_carlo.html">Monte Carlo simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/common_errors.html">Common errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/linking_components.html">Linking components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/general/solvers.html">Solvers</a></li>
</ul>
</li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../pages/user_guides/toc_qna.html">Q &amp; A<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/qna/snapshot_duration.html">Time resolution &amp; power vs. energy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/qna/profiles_sign.html">Sign convention for time series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/qna/dynamic_marginal_costs.html">Output-dependent marginal costs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/user_guides/qna/passive_charging.html">Passive charging of an underground heat storage</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manual</span></p>
<ul>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../pages/manual/yaml/index.html">YAML<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/yaml/top_level.html">Top-level config</a></li>
<li class="toctree-l2" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../pages/manual/yaml/core_components.html">Components<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l3"><a class="reference internal" href="../pages/manual/yaml/core/connection.html">Connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pages/manual/yaml/core/decision.html">Decision</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pages/manual/yaml/core/node.html">Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pages/manual/yaml/core/profile.html">Profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pages/manual/yaml/core/unit.html">Unit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../pages/manual/python/index.html">Python<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/python/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/python/model.html">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/python/results.html">Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/python/util.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/python/jump.html">JuMP</a></li>
</ul>
</li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../pages/manual/julia/index.html">Julia<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/julia/assets.html">Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/julia/utilities.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/julia/resultsduckdb.html">ResultsDuckDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/manual/julia/resultsjld2.html">ResultsJLD2</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/references/publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/references/projects.html">Projects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/dev/general.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/dev/core.html">IESopt.jl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/dev/updating.html">Updating</a></li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../index.html">
<span class="hidden md:inline">IESopt 2.12.2.dev0 documentation</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">A first model</span>
</nav>
<div id="content" role="main">
<section class="tex2jax_ignore mathjax_ignore" id="a-first-model">
<h1>A first model<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#a-first-model"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<p>After you have successfully installed IESopt, you can start to build your first model. In this tutorial, we will show you how to create a simple model, solve it, and extract some basic results.</p>
<p>Let’s start by creating a Python file, e.g. <code class="docutils literal notranslate"><span class="pre">main.py</span></code>, to hold the necessary code, and add the following lines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">import</span><span class="w"> </span><span class="nn">iesopt</span>
</span><span id="line-2">
</span><span id="line-3"><span class="c1"># Load and solve a model.</span>
</span><span id="line-4"><span class="n">model</span> <span class="o">=</span> <span class="n">iesopt</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">"my_first_model.iesopt.yaml"</span><span class="p">)</span>
</span><span id="line-5">
</span><span id="line-6"><span class="nb">print</span><span class="p">(</span><span class="s2">"Objective value:"</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">objective_value</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Next we’ll describe a simple model that we would like to solve and set various parameters. Create an empty file <code class="docutils literal notranslate"><span class="pre">my_first_model.iesopt.yaml</span></code> (later on multiple files can be combined to describe more complex models), that we can now use to actually describe the model.</p>
<section id="model-configuration">
<h2>Model configuration<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#model-configuration" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#model-configuration'"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2>
<p>The first part of each <code class="docutils literal notranslate"><span class="pre">*.iesopt.yaml</span></code> file describes general configuration parameters. Add the following lines:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nt">config</span><span class="p">:</span>
</span><span id="line-2"><span class="w">  </span><span class="nt">optimization</span><span class="p">:</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">problem_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LP</span>
</span><span id="line-4"><span class="w">    </span><span class="nt">snapshots</span><span class="p">:</span>
</span><span id="line-5"><span class="w">      </span><span class="nt">count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>
</span></code></pre></div>
</div>
<p>This tells IESopt to start building a model, while expecting all formulations to be representable as LP (so, adding binary
variables will cause an error). Further we specify how many time steps (called <code class="docutils literal notranslate"><span class="pre">Snapshot</span></code>) we’d like to use, here telling IESopt that we are looking to optimize a full day (by the default a <code class="docutils literal notranslate"><span class="pre">Snapshot</span></code>’s duration is one hour).</p>
<section id="energy-carriers">
<h3>Energy carriers<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#energy-carriers" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#energy-carriers'"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3>
<p>Since IESopt is a general purpose energy system model, it does not restrict you to a set of predefined types of energy, but
rather expects you to first define those. For our first model, we’ll only care about electricity and gas, so we add
the following lines:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nt">carriers</span><span class="p">:</span>
</span><span id="line-2"><span class="w">  </span><span class="nt">electricity</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</span><span id="line-3"><span class="w">  </span><span class="nt">gas</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</span></code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">{}</span></code> represents an empty dictionary. Additional parameters related to the carrier could later be specified there.</p>
</section>
<section id="model-components">
<h3>Model components<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#model-components" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#model-components'"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3>
<p>Now that all general settings of the model are in place, we can actually start describing the model’s structure:</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">photovoltaic</span></code> (a <code class="docutils literal notranslate"><span class="pre">Profile</span></code>) system is feeding in electricity (based on some external availability factor) into a local electricity grid (a <code class="docutils literal notranslate"><span class="pre">Node</span></code> called <code class="docutils literal notranslate"><span class="pre">elec_grid</span></code>)</p></li>
<li><p>A simple <code class="docutils literal notranslate"><span class="pre">storage</span></code> is connected (via a <code class="docutils literal notranslate"><span class="pre">Connection</span></code>) to this grid, able to shift energy between time steps</p></li>
<li><p>An endogenous <code class="docutils literal notranslate"><span class="pre">demand</span></code> (electricity) must be met at every time step</p></li>
<li><p>Any uncovered demand (by PV or storage) can be satisfied using a <code class="docutils literal notranslate"><span class="pre">gasturbine</span></code> (a <code class="docutils literal notranslate"><span class="pre">Unit</span></code>), that draws gas from a <code class="docutils literal notranslate"><span class="pre">gas_grid</span></code>, that
needs to buy all used gas from a <code class="docutils literal notranslate"><span class="pre">gas_market</span></code></p></li>
</ul>
<p>We now describe these seven components, starting with the electricity grid <code class="docutils literal notranslate"><span class="pre">Node</span></code>. Add the following lines to
<code class="docutils literal notranslate"><span class="pre">my_first_model.iesopt.yaml</span></code> - everything after a <code class="docutils literal notranslate"><span class="pre">#</span></code> is considered a comment by IESopt:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nt">components</span><span class="p">:</span>
</span><span id="line-2"><span class="w">  </span><span class="nt">elec_grid</span><span class="p">:</span><span class="w">                </span><span class="c1"># the unique name of this component</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Node</span><span class="w">              </span><span class="c1"># the type of this component</span>
</span><span id="line-4"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span><span class="w">    </span><span class="c1"># this (Node-specific) parameter fixes the carrier to be electricity</span>
</span></code></pre></div>
</div>
<blockquote>
<div><p>Head over to <a class="reference external" href="https://ait-energy.github.io/iesopt/pages/manual/yaml/core_components.html" rel="nofollow noopener">this section of the docs<svg fill="currentColor" height="1em" stroke="none" viewbox="0 96 960 960" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M188 868q-11-11-11-28t11-28l436-436H400q-17 0-28.5-11.5T360 336q0-17 11.5-28.5T400 296h320q17 0 28.5 11.5T760 336v320q0 17-11.5 28.5T720 696q-17 0-28.5-11.5T680 656V432L244 868q-11 11-28 11t-28-11Z"></path></svg></a> to read up on the different component types that are available.</p>
</div></blockquote>
<p>We add the other two <code class="docutils literal notranslate"><span class="pre">Node</span></code>s, making sure, that the <code class="docutils literal notranslate"><span class="pre">storage</span></code> is stateful (models a “state of charge”), and that the
<code class="docutils literal notranslate"><span class="pre">gas_grid</span></code> has the proper carrier. Make sure that you do get the correct indent, since all of the following lines still
belong to the overall <code class="docutils literal notranslate"><span class="pre">components:</span></code> definition:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="w">  </span><span class="nt">gas_grid</span><span class="p">:</span><span class="w">                 </span><span class="c1"># the unique name of this component</span>
</span><span id="line-2"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Node</span><span class="w">              </span><span class="c1"># the type of this component</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gas</span><span class="w">            </span><span class="c1"># this (Node-specific) parameter fixes the carrier to be electricity</span>
</span><span id="line-4">
</span><span id="line-5"><span class="w">  </span><span class="nt">storage</span><span class="p">:</span>
</span><span id="line-6"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Node</span>
</span><span id="line-7"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span>
</span><span id="line-8"><span class="w">    </span><span class="nt">has_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">         </span><span class="c1"># this allows this Node to have an "internal state"</span>
</span><span id="line-9"><span class="w">    </span><span class="nt">state_lb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">             </span><span class="c1"># the state can not drop below 0</span>
</span><span id="line-10"><span class="w">    </span><span class="nt">state_ub</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">            </span><span class="c1"># a maximum of 50 electricity can be stored</span>
</span></code></pre></div>
</div>
<p>Two important things can be seen with the <code class="docutils literal notranslate"><span class="pre">storage</span></code>:</p>
<ol class="arabic simple">
<li><p>Values in IESopt do not carry an explicit unit (at the moment, this will be possible in the future). This means, that if
we consider electricity to be in kW/kWh in this model, we need to make sure that all settings are adjusted to match that.</p></li>
<li><p>We are implicitly using a default setting of a parameter that we did not specify: <code class="docutils literal notranslate"><span class="pre">state_cyclic</span></code> (check it out in the docs!) is set to <code class="docutils literal notranslate"><span class="pre">eq</span></code> per default, forcing the model to always end the optimization with as much “charge” in the storage as it started with in the first time step (however, how much that is, is left to the optimizer to decide).</p></li>
</ol>
<p>Now that we have all <code class="docutils literal notranslate"><span class="pre">Node</span></code>s in place, we can insert the only <code class="docutils literal notranslate"><span class="pre">Connection</span></code> by adding:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="w">  </span><span class="nt">conn</span><span class="p">:</span>
</span><span id="line-2"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Connection</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">node_from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elec_grid</span><span class="w">    </span><span class="c1"># energy flows from HERE</span>
</span><span id="line-4"><span class="w">    </span><span class="nt">node_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">storage</span><span class="w">        </span><span class="c1"># to THERE</span>
</span><span id="line-5"><span class="w">    </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span><span class="w">            </span><span class="c1"># with a maximum capacity of +-15 units of electricity</span>
</span></code></pre></div>
</div>
<p>Notice that while we did specify the <code class="docutils literal notranslate"><span class="pre">Node</span></code>s that are connected by this <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, no energy
carrier was explicitly set. This is due to the fact that <code class="docutils literal notranslate"><span class="pre">Connection</span></code>s infer the energy carrier and will automatically fail if they
connect two <code class="docutils literal notranslate"><span class="pre">Node</span></code>s with a different type of energy. The specified <code class="docutils literal notranslate"><span class="pre">capacity</span></code> therefore refers to 15 units of electricity
and constructs symmetric bounds on the flow (again, read up in the docs for other options and asymmetric bounds).</p>
<p>Next, it’s time to add all three <code class="docutils literal notranslate"><span class="pre">Profile</span></code>s to the model. A <code class="docutils literal notranslate"><span class="pre">Profile</span></code> allows for the “creation” or “destruction” of energy:
Normally, all energy needs to move through the model (possibly being transformed), but can not enter/leave the model. This
is where <code class="docutils literal notranslate"><span class="pre">Profile</span></code>s help, representing for example the cost of buying gas (<code class="docutils literal notranslate"><span class="pre">gas_market</span></code>) or a fixed demand that needs to
be covered (<code class="docutils literal notranslate"><span class="pre">demand</span></code>).</p>
<p>We now add:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="w">  </span><span class="nt">demand</span><span class="p">:</span>
</span><span id="line-2"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Profile</span><span class="w">           </span><span class="c1"># the type is now "Profile"</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span>
</span><span id="line-4"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w">                </span><span class="c1"># this models a fixed demand of 5 units of electricity during every Snapshot</span>
</span><span id="line-5"><span class="w">    </span><span class="nt">node_from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elec_grid</span><span class="w">    </span><span class="c1"># this tells MFC that this Profile draws energy from "elec_grid"</span>
</span><span id="line-6">
</span><span id="line-7"><span class="w">  </span><span class="c1"># We can also set the "value" of a Profile to a time series, as can be seen:</span>
</span><span id="line-8"><span class="w">  </span><span class="nt">photovoltaic</span><span class="p">:</span>
</span><span id="line-9"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Profile</span>
</span><span id="line-10"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span>
</span><span id="line-11"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="nv">4</span><span class="p p-Indicator">,</span><span class="nv">5</span><span class="p p-Indicator">,</span><span class="nv">8</span><span class="p p-Indicator">,</span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="nv">8</span><span class="p p-Indicator">,</span><span class="nv">5</span><span class="p p-Indicator">,</span><span class="nv">4</span><span class="p p-Indicator">,</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">]</span>
</span><span id="line-12"><span class="w">    </span><span class="nt">node_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elec_grid</span><span class="w">      </span><span class="c1"># now feeding INTO "elec_grid"</span>
</span><span id="line-13">
</span><span id="line-14"><span class="w">  </span><span class="nt">gas_market</span><span class="p">:</span>
</span><span id="line-15"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Profile</span>
</span><span id="line-16"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gas</span>
</span><span id="line-17"><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create</span><span class="w">            </span><span class="c1"># this changes the mode from the default ("fixed") to "create"</span>
</span><span id="line-18"><span class="w">    </span><span class="nt">cost</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">               </span><span class="c1"># this specifies the "cost of gas"</span>
</span><span id="line-19"><span class="w">    </span><span class="nt">node_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gas_grid</span>
</span></code></pre></div>
</div>
<blockquote>
<div><p>Note on setting <code class="docutils literal notranslate"><span class="pre">Profile</span></code> values: While the value of a <code class="docutils literal notranslate"><span class="pre">Profile</span></code> can be set directly in the <code class="docutils literal notranslate"><span class="pre">*.iesopt.yaml</span></code> file, most of the time this will just result in a convoluted file. It’s therefore possible to load external data files (in CSV format) and directly link to them using a simple <code class="docutils literal notranslate"><span class="pre">column@filename</span></code> syntax, that can be seen in other examples.</p>
</div></blockquote>
<p>While the first two <code class="docutils literal notranslate"><span class="pre">Profile</span></code>s should be mostly self-explanatory, the <code class="docutils literal notranslate"><span class="pre">gas_market</span></code> introduces a new concept: While
standard <code class="docutils literal notranslate"><span class="pre">Profile</span></code>s always consider a fixed value (a time series), some time series may not be exogenous, e.g. how
much gas is bought from the gas market. That’s where the <code class="docutils literal notranslate"><span class="pre">mode:</span> <span class="pre">create</span></code> setting helps by defining a <code class="docutils literal notranslate"><span class="pre">Profile</span></code> that can
freely choose (as long as the value is &gt;= 0) how much gas is being bought, but associates every unit of gas with a cost
that has to be “paid” (this is therefore automatically inserted into the objective function).</p>
<p>The only thing missing from the model description is the <code class="docutils literal notranslate"><span class="pre">Unit</span></code> (<code class="docutils literal notranslate"><span class="pre">gas_turbine</span></code>). It takes gas as its only input and
transforms that into electricity. For this we first add the following component:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="w">  </span><span class="nt">gasturbine</span><span class="p">:</span>
</span><span id="line-2"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Unit</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">inputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">gas</span><span class="p">:</span><span class="w"> </span><span class="nv">gas_grid</span><span class="p p-Indicator">}</span>
</span><span id="line-4"><span class="w">    </span><span class="nt">outputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">electricity</span><span class="p">:</span><span class="w"> </span><span class="nv">elec_grid</span><span class="p p-Indicator">}</span>
</span><span id="line-5"><span class="w">    </span><span class="nt">conversion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 gas -&gt; 0.40 electricity</span>
</span><span id="line-6"><span class="w">    </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100 out:electricity</span>
</span></code></pre></div>
</div>
<p>Let’s look at the <code class="docutils literal notranslate"><span class="pre">Unit</span></code>-specific settings in detail:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inputs:</span> <span class="pre">{gas:</span> <span class="pre">gas_grid}</span></code>: This tells IESopt that an input accepting <code class="docutils literal notranslate"><span class="pre">gas</span></code> (the carrier) is connected to <code class="docutils literal notranslate"><span class="pre">gas_grid</span></code> (= it is
consuming gas from there).</p></li>
<li><p>Similarly, <code class="docutils literal notranslate"><span class="pre">outputs:</span> <span class="pre">{electricity:</span> <span class="pre">elec_grid}</span></code> tells IESopt where the only output (with carrier <code class="docutils literal notranslate"><span class="pre">electricity</span></code>) feeds energy to.</p></li>
<li><p>The most important part is kept in the so-called “conversion expression” <code class="docutils literal notranslate"><span class="pre">conversion:</span> <span class="pre">1</span> <span class="pre">gas</span> <span class="pre">-&gt;</span> <span class="pre">0.40</span> <span class="pre">electricity</span></code>: This
tells IESopt that the <code class="docutils literal notranslate"><span class="pre">Unit</span></code> will use 1 unit of gas (e.g. kWh, MJ, …) and convert it into 0.4 units of electricity
(e.g. kWh) at a fixed rate.</p></li>
<li><p>Finally, <code class="docutils literal notranslate"><span class="pre">capacity:</span> <span class="pre">100</span> <span class="pre">out:electricity</span></code> specifies the “capacity limitations” of this <code class="docutils literal notranslate"><span class="pre">Unit</span></code>: 100 units of electricity can
be produced. This implicitly limits the maximum amount of gas that can be used during a time step to 250 units of gas.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Unit</span></code>s come with a lot of additional (and very specific) parameters (e.g. <code class="docutils literal notranslate"><span class="pre">marginal_cost</span></code>, <code class="docutils literal notranslate"><span class="pre">availability</span></code>, …) that are
explained in detail in the specific section of the docs.</p>
</section>
<section id="final-config-file">
<h3>Final config file<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#final-config-file" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#final-config-file'"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3>
<p>Following the above steps you should now have your <code class="docutils literal notranslate"><span class="pre">my_first_model.iesopt.yaml</span></code> config file setup like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nt">config</span><span class="p">:</span>
</span><span id="line-2"><span class="w">  </span><span class="nt">optimization</span><span class="p">:</span>
</span><span id="line-3"><span class="w">    </span><span class="nt">problem_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LP</span>
</span><span id="line-4"><span class="w">    </span><span class="nt">snapshots</span><span class="p">:</span>
</span><span id="line-5"><span class="w">      </span><span class="nt">count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>
</span><span id="line-6">
</span><span id="line-7"><span class="nt">carriers</span><span class="p">:</span>
</span><span id="line-8"><span class="w">  </span><span class="nt">electricity</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</span><span id="line-9"><span class="w">  </span><span class="nt">gas</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</span><span id="line-10">
</span><span id="line-11"><span class="nt">components</span><span class="p">:</span>
</span><span id="line-12"><span class="w">  </span><span class="nt">elec_grid</span><span class="p">:</span><span class="w">                </span><span class="c1"># the unique name of this component</span>
</span><span id="line-13"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Node</span><span class="w">              </span><span class="c1"># the type of this component</span>
</span><span id="line-14"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span><span class="w">    </span><span class="c1"># this (Node-specific) parameter fixes the carrier to be electricity</span>
</span><span id="line-15">
</span><span id="line-16"><span class="w">  </span><span class="nt">gas_grid</span><span class="p">:</span><span class="w">                 </span><span class="c1"># the unique name of this component</span>
</span><span id="line-17"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Node</span><span class="w">              </span><span class="c1"># the type of this component</span>
</span><span id="line-18"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gas</span><span class="w">            </span><span class="c1"># this (Node-specific) parameter fixes the carrier to be electricity</span>
</span><span id="line-19">
</span><span id="line-20"><span class="w">  </span><span class="nt">storage</span><span class="p">:</span>
</span><span id="line-21"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Node</span>
</span><span id="line-22"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span>
</span><span id="line-23"><span class="w">    </span><span class="nt">has_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">         </span><span class="c1"># this allows this Node to have an "internal state"</span>
</span><span id="line-24"><span class="w">    </span><span class="nt">state_lb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">             </span><span class="c1"># the state can not drop below 0</span>
</span><span id="line-25"><span class="w">    </span><span class="nt">state_ub</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">            </span><span class="c1"># a maximum of 50 electricity can be stored    </span>
</span><span id="line-26"><span class="w">   </span>
</span><span id="line-27"><span class="w">  </span><span class="nt">conn</span><span class="p">:</span>
</span><span id="line-28"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Connection</span>
</span><span id="line-29"><span class="w">    </span><span class="nt">node_from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elec_grid</span><span class="w">    </span><span class="c1"># energy flows from HERE</span>
</span><span id="line-30"><span class="w">    </span><span class="nt">node_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">storage</span><span class="w">        </span><span class="c1"># to THERE</span>
</span><span id="line-31"><span class="w">    </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span><span class="w">            </span><span class="c1"># with a maximum capacity of +-15 units of electricity</span>
</span><span id="line-32">
</span><span id="line-33"><span class="w">  </span><span class="nt">demand</span><span class="p">:</span>
</span><span id="line-34"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Profile</span><span class="w">           </span><span class="c1"># the type is now "Profile"</span>
</span><span id="line-35"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span>
</span><span id="line-36"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w">                </span><span class="c1"># this models a fixed demand of 5 units of electricity during every Snapshot</span>
</span><span id="line-37"><span class="w">    </span><span class="nt">node_from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elec_grid</span><span class="w">    </span><span class="c1"># this tells MFC that this Profile draws energy from "elec_grid"</span>
</span><span id="line-38">
</span><span id="line-39"><span class="w">  </span><span class="c1"># We can also set the "value" of a Profile to a time series, as can be seen:</span>
</span><span id="line-40"><span class="w">  </span><span class="nt">photovoltaic</span><span class="p">:</span>
</span><span id="line-41"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Profile</span>
</span><span id="line-42"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">electricity</span>
</span><span id="line-43"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="nv">4</span><span class="p p-Indicator">,</span><span class="nv">5</span><span class="p p-Indicator">,</span><span class="nv">8</span><span class="p p-Indicator">,</span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="nv">8</span><span class="p p-Indicator">,</span><span class="nv">5</span><span class="p p-Indicator">,</span><span class="nv">4</span><span class="p p-Indicator">,</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nv">0</span><span class="p p-Indicator">]</span>
</span><span id="line-44"><span class="w">    </span><span class="nt">node_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elec_grid</span><span class="w">      </span><span class="c1"># now feeding INTO "elec_grid"</span>
</span><span id="line-45">
</span><span id="line-46"><span class="w">  </span><span class="nt">gas_market</span><span class="p">:</span>
</span><span id="line-47"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Profile</span>
</span><span id="line-48"><span class="w">    </span><span class="nt">carrier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gas</span>
</span><span id="line-49"><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create</span><span class="w">            </span><span class="c1"># this changes the mode from the default ("fixed") to "create"</span>
</span><span id="line-50"><span class="w">    </span><span class="nt">cost</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">               </span><span class="c1"># this specifies the "cost of gas"</span>
</span><span id="line-51"><span class="w">    </span><span class="nt">node_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gas_grid</span>
</span><span id="line-52">
</span><span id="line-53"><span class="w">  </span><span class="nt">gasturbine</span><span class="p">:</span>
</span><span id="line-54"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Unit</span>
</span><span id="line-55"><span class="w">    </span><span class="nt">inputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">gas</span><span class="p">:</span><span class="w"> </span><span class="nv">gas_grid</span><span class="p p-Indicator">}</span>
</span><span id="line-56"><span class="w">    </span><span class="nt">outputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">electricity</span><span class="p">:</span><span class="w"> </span><span class="nv">elec_grid</span><span class="p p-Indicator">}</span>
</span><span id="line-57"><span class="w">    </span><span class="nt">conversion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 gas -&gt; 0.40 electricity</span>
</span><span id="line-58"><span class="w">    </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100 out:electricity</span>
</span></code></pre></div>
</div>
</section>
<section id="running-the-optimization">
<h3>Running the optimization<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#running-the-optimization" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#running-the-optimization'"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3>
<p>Assuming that both <code class="docutils literal notranslate"><span class="pre">my_first_model.iesopt.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">main.py</span></code> are located in the same folder, you can now execute the following
command there (make sure you are in the correct Python environment):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">python<span class="w"> </span>./main.py
</span></code></pre></div>
</div>
<p>The output should show a total objective value of <code class="docutils literal notranslate"><span class="pre">9500</span></code>, resulting from <code class="docutils literal notranslate"><span class="pre">38</span></code> units of electricity missing after
accounting for PV production, amounting to a total need of <code class="docutils literal notranslate"><span class="pre">95</span></code> units of gas, at a price of <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
<blockquote>
<div><p>Note on startup time: If you are running this for the first time, you might notice a considerable delay before the
output is shown. This is due to the fact that IESopt is automatically connecting to the internal “core” (which is written in Julia) and updating it. This can
be avoided by running the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">iesopt</span></code> command once and then just iterating on the generate/optimize part, in a “REPL-style” approach. Remember: Interactively executing a line or block of code in VSCode is usually bound to <code class="docutils literal notranslate"><span class="pre">Shift</span> <span class="pre">+</span> <span class="pre">Enter</span></code>.</p>
</div></blockquote>
</section>
</section>
<section id="extracting-model-results">
<h2>Extracting model results<a @click.prevent="window.navigator.clipboard.writeText($el.href); $el.setAttribute('data-tooltip', 'Copied!'); setTimeout(() =&gt; $el.setAttribute('data-tooltip', 'Copy link to this element'), 2000)" aria-label="Copy link to this element" class="headerlink" data-tooltip="Copy link to this element" href="#extracting-model-results" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#extracting-model-results'"><svg height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2>
<p>Now, head over to the <a class="reference external" href="https://ait-energy.github.io/iesopt/notebooks/custom_results_1.html" rel="nofollow noopener">extracting results<svg fill="currentColor" height="1em" stroke="none" viewbox="0 96 960 960" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M188 868q-11-11-11-28t11-28l436-436H400q-17 0-28.5-11.5T360 336q0-17 11.5-28.5T400 296h320q17 0 28.5 11.5T760 336v320q0 17-11.5 28.5T720 696q-17 0-28.5-11.5T680 656V432L244 868q-11 11-28 11t-28-11Z"></path></svg></a> tutorial, to get started with extracting actually results from your model.</p>
</section>
</section>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#model-configuration'" class="reference internal" href="#model-configuration">Model configuration</a><ul>
<li><a :data-current="activeSection === '#energy-carriers'" class="reference internal" href="#energy-carriers">Energy carriers</a></li>
<li><a :data-current="activeSection === '#model-components'" class="reference internal" href="#model-components">Model components</a></li>
<li><a :data-current="activeSection === '#final-config-file'" class="reference internal" href="#final-config-file">Final config file</a></li>
<li><a :data-current="activeSection === '#running-the-optimization'" class="reference internal" href="#running-the-optimization">Running the optimization</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#extracting-model-results'" class="reference internal" href="#extracting-model-results">Extracting model results</a></li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© AIT Austrian Institute of Technology GmbH Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 8.2.3</a></p>
</div>
</div>
</footer>
</div><button :class="{'opacity-0 invisible' : !showScrollTop}" @click="window.scrollTo({top: 0, behavior: 'smooth'})" class="fixed bottom-8 right-8 p-2 z-10 rounded-sm bg-gray-700 text-xs text-white transition-all duration-1000 hover:bg-gray-950 focus:bg-gray-950" id="scrolltop" x-cloak="">
<svg aria-hidden="true" class="inline fill-current mb-[2px]" height="14" viewbox="0 96 960 960" width="14" xmlns="http://www.w3.org/2000/svg">
<path d="M450 896V370L202 618l-42-42 320-320 320 320-42 42-248-248v526h-60Z"></path>
</svg>
  Back to top
</button>
<script src="../_static/documentation_options.js?v=f3a0758d"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script>let toggleHintShow = 'Click to show';</script>
<script>let toggleHintHide = 'Click to hide';</script>
<script>let toggleOpenOnPrint = 'true';</script>
<script src="../_static/togglebutton.js?v=4a39c7ea"></script>
<script defer="defer" src="../_static/theme.js?v=073f68d9"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
</body>
</html>